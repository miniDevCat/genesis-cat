# Genesis Web UI - 文生视频功能

## 🎬 功能介绍

文生视频（Text-to-Video）功能允许你通过文字描述生成短视频。

## ✨ 功能特性

### 核心参数

1. **提示词** - 描述视频内容
2. **负向提示词** - 描述不想要的内容
3. **视频尺寸** - 512×512 到 1024×576
4. **帧数** - 8-64 帧（影响视频长度）
5. **FPS** - 4-30 帧/秒（影响播放速度）
6. **采样步数** - 10-50 步（影响质量）
7. **CFG Scale** - 1-20（影响提示词影响力）
8. **运动强度** - 0-1（控制运动幅度）
9. **随机种子** - 固定种子可重现结果

### 尺寸预设

- 方形 (512×512) - 适合社交媒体
- 横屏 (768×512) - 适合横屏播放
- 竖屏 (512×768) - 适合手机竖屏
- 宽屏 (1024×576) - 适合宽屏播放

## 🚀 使用方法

### 1. 输入提示词

```
一只可爱的小猫在草地上玩耍，阳光明媚
```

### 2. 调整参数

- **帧数**: 16 帧（推荐）
- **FPS**: 8（推荐）
- **步数**: 20-30
- **运动强度**: 0.5（中等）

### 3. 生成视频

点击"生成视频"按钮，等待 1-5 分钟。

### 4. 预览和下载

- 视频会自动播放
- 点击"下载视频"保存到本地

## 💡 提示词技巧

### 好的提示词结构

```
[主体] + [动作] + [环境] + [风格] + [质量词]
```

### 示例

**自然场景：**
```
海浪拍打着沙滩，日落时分，金色光芒，
cinematic, 4k, smooth motion
```

**人物动作：**
```
一个女孩在跳舞，优雅的动作，室内环境，
柔和灯光，professional video
```

**科幻场景：**
```
宇航员在太空中漂浮，地球背景，
slow motion, cinematic, high quality
```

**城市景观：**
```
城市街道车水马龙，延时摄影，
夜晚霓虹灯，urban, time-lapse
```

### 常用质量词

- `cinematic` - 电影感
- `smooth motion` - 流畅运动
- `4k`, `8k` - 高清
- `professional video` - 专业视频
- `slow motion` - 慢动作
- `time-lapse` - 延时摄影

### 常用负向词

```
blurry, low quality, distorted, 
choppy, glitchy, artifacts
```

## ⚙️ 参数调优

### 快速预览

- 尺寸: 512×512
- 帧数: 8-12
- FPS: 8
- 步数: 15-20
- 运动强度: 0.3

### 高质量生成

- 尺寸: 768×512 或更大
- 帧数: 16-24
- FPS: 12-16
- 步数: 25-40
- 运动强度: 0.5-0.7

### 慢动作效果

- 帧数: 24-32
- FPS: 8-12
- 运动强度: 0.3-0.5

### 快速运动

- 帧数: 12-16
- FPS: 16-24
- 运动强度: 0.7-1.0

## 📊 性能说明

### 生成时间

| 配置 | 帧数 | 预计时间 |
|------|------|----------|
| CPU | 16 | 10-30 分钟 |
| GPU (RTX 3060) | 16 | 2-5 分钟 |
| GPU (RTX 4090) | 16 | 1-2 分钟 |

### 显存需求

| 尺寸 | 帧数 | 显存需求 |
|------|------|----------|
| 512×512 | 16 | 6-8 GB |
| 768×512 | 16 | 8-10 GB |
| 1024×576 | 16 | 10-12 GB |

## ⚠️ 注意事项

### 首次使用

1. **模型下载**
   - 首次使用会下载视频生成模型
   - 模型大小约 10GB
   - 下载时间取决于网速
   - 模型缓存到: `~/.cache/huggingface/`

2. **硬件要求**
   - 推荐使用 NVIDIA GPU
   - 至少 6GB 显存
   - CPU 生成会非常慢

### 生成限制

1. **时长限制**
   - 最多 64 帧
   - 建议 16-24 帧
   - 时长 = 帧数 / FPS

2. **尺寸限制**
   - 最大 1024×1024
   - 推荐 512×512 或 768×512
   - 尺寸越大，生成越慢

3. **质量权衡**
   - 帧数越多，时间越长
   - 尺寸越大，显存需求越高
   - 步数越多，质量越好但速度越慢

## 🐛 常见问题

### Q: 生成失败？

**A:** 检查：
1. 后端是否正常运行
2. 是否有足够显存
3. 提示词是否合理
4. 参数是否在范围内

### Q: 生成很慢？

**A:** 尝试：
1. 减少帧数（16 → 12）
2. 减小尺寸（768 → 512）
3. 减少步数（30 → 20）
4. 使用 GPU 而非 CPU

### Q: 视频质量不好？

**A:** 调整：
1. 增加步数（20 → 30）
2. 优化提示词
3. 添加质量关键词
4. 调整 CFG Scale（7 → 9）

### Q: 运动不自然？

**A:** 调整：
1. 降低运动强度（0.7 → 0.5）
2. 增加帧数（12 → 16）
3. 调整 FPS（8 → 12）
4. 优化提示词描述动作

### Q: 显存不足？

**A:** 解决：
1. 减小尺寸
2. 减少帧数
3. 关闭其他 GPU 应用
4. 使用 CPU 模式（慢）

## 🎯 最佳实践

### 1. 提示词要具体

❌ 不好：`一只猫`
✅ 好：`一只橘色小猫在草地上追逐蝴蝶，阳光明媚，慢动作`

### 2. 控制运动幅度

- 静态场景：运动强度 0.2-0.3
- 中等运动：运动强度 0.4-0.6
- 快速运动：运动强度 0.7-0.9

### 3. 合理设置帧数

- 短视频：8-12 帧
- 标准视频：16-24 帧
- 长视频：24-32 帧

### 4. 选择合适 FPS

- 慢动作：4-8 FPS
- 标准速度：8-16 FPS
- 快速播放：16-24 FPS

## 📝 技术细节

### 后端 API

```python
POST /api/task/submit
{
  "task_type": "text_to_video",
  "params": {
    "prompt": "...",
    "negative_prompt": "...",
    "width": 512,
    "height": 512,
    "frames": 16,
    "fps": 8,
    "steps": 20,
    "cfg_scale": 7.5,
    "seed": -1,
    "motion_strength": 0.5
  }
}
```

### 视频格式

- 格式: MP4
- 编码: H.264
- 音频: 无
- 分辨率: 自定义

## 🎉 示例场景

### 自然风光

```
樱花飘落，微风吹拂，粉色花瓣，
slow motion, cinematic, beautiful
```

### 城市景观

```
城市夜景，车流穿梭，霓虹灯闪烁，
time-lapse, urban, 4k
```

### 科幻场景

```
宇宙飞船在星空中飞行，星云背景，
cinematic, sci-fi, smooth motion
```

### 动物世界

```
一群鸟在天空中飞翔，日落背景，
slow motion, nature documentary
```

---

**开始创作你的视频吧！** 🎬
